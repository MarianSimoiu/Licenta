{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _RenderIf = require('./../RenderIf');\n\nvar _RenderIf2 = _interopRequireDefault(_RenderIf);\n\nvar _ButtonIcon = require('./../ButtonIcon');\n\nvar _ButtonIcon2 = _interopRequireDefault(_ButtonIcon);\n\nvar _utils = require('./../../libs/utils');\n\nvar _constants = require('./../../libs/constants');\n\nvar _header = require('./header');\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _closeIcon = require('./closeIcon');\n\nvar _closeIcon2 = _interopRequireDefault(_closeIcon);\n\nvar _manageTab = require('./manageTab');\n\nvar _manageTab2 = _interopRequireDefault(_manageTab);\n\nvar _scrollController = require('./scrollController');\n\nvar _counterManager = require('./counterManager');\n\nvar _counterManager2 = _interopRequireDefault(_counterManager);\n\nrequire('./styles.css');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/**\n * Modals are used to display content in a layer above the app.\n * This is used in cases such as the creation or editing of a record,\n * as well as various types of messaging.\n * @category Layout\n */\n\n\nvar Modal = function (_Component) {\n  _inherits(Modal, _Component);\n\n  function Modal(props) {\n    _classCallCheck(this, Modal);\n\n    var _this = _possibleConstructorReturn(this, (Modal.__proto__ || Object.getPrototypeOf(Modal)).call(this, props));\n\n    _this.buttonRef = _react2.default.createRef();\n    _this.modalRef = _react2.default.createRef();\n    _this.modalHeadingId = (0, _utils.uniqueId)('modal-heading');\n    _this.modalContentId = (0, _utils.uniqueId)('modal-content');\n    _this.handleKeyPressed = _this.handleKeyPressed.bind(_this);\n    _this.handleClick = _this.handleClick.bind(_this);\n    _this.closeModal = _this.closeModal.bind(_this);\n    return _this;\n  }\n\n  _createClass(Modal, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var isOpen = this.props.isOpen;\n\n      if (isOpen) {\n        _counterManager2.default.increment();\n\n        (0, _scrollController.disableScroll)();\n        this.modalTriggerElement = document.activeElement;\n        this.modalRef.current.focus();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _props = this.props,\n          isOpen = _props.isOpen,\n          onOpened = _props.onOpened;\n      var prevIsOpen = prevProps.isOpen;\n\n      if (isOpen && !prevIsOpen) {\n        _counterManager2.default.increment();\n\n        (0, _scrollController.disableScroll)();\n        this.modalTriggerElement = document.activeElement;\n        this.modalRef.current.focus();\n        onOpened();\n      } else if (!isOpen && prevIsOpen) {\n        _counterManager2.default.decrement();\n\n        if (this.modalTriggerElement) {\n          this.modalTriggerElement.focus();\n        }\n\n        if (!_counterManager2.default.hasModalsOpen()) {\n          (0, _scrollController.enableScroll)();\n        }\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      _counterManager2.default.decrement();\n\n      if (!_counterManager2.default.hasModalsOpen()) {\n        (0, _scrollController.enableScroll)();\n      }\n    }\n  }, {\n    key: 'getBackDropClassNames',\n    value: function getBackDropClassNames() {\n      var isOpen = this.props.isOpen;\n      return (0, _classnames2.default)('rainbow-modal_backdrop', {\n        'rainbow-modal_backdrop--open': isOpen\n      });\n    }\n  }, {\n    key: 'getContainerClassNames',\n    value: function getContainerClassNames() {\n      var _props2 = this.props,\n          className = _props2.className,\n          isOpen = _props2.isOpen;\n      return (0, _classnames2.default)('rainbow-modal', {\n        'rainbow-modal--open': isOpen,\n        'rainbow-modal--close': !isOpen\n      }, this.getSizeClassNames(), className);\n    }\n  }, {\n    key: 'getSizeClassNames',\n    value: function getSizeClassNames() {\n      var size = this.props.size;\n\n      if (size === 'small') {\n        return null;\n      }\n\n      return 'rainbow-modal--' + size;\n    }\n  }, {\n    key: 'handleKeyPressed',\n    value: function handleKeyPressed(event) {\n      event.stopPropagation();\n      var isOpen = this.props.isOpen;\n\n      if (isOpen && event.keyCode === _constants.ESCAPE_KEY) {\n        this.closeModal();\n      }\n\n      if (event.keyCode === _constants.TAB_KEY) {\n        (0, _manageTab2.default)(this.modalRef.current, event);\n      }\n\n      return null;\n    }\n  }, {\n    key: 'handleClick',\n    value: function handleClick(event) {\n      if (_counterManager2.default.counter > 1) {\n        event.stopPropagation();\n      }\n\n      var isOpen = this.props.isOpen;\n\n      if (isOpen) {\n        var isClickOutsideModal = !this.modalRef.current.contains(event.target);\n\n        if (isClickOutsideModal) {\n          return this.closeModal();\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: 'closeModal',\n    value: function closeModal() {\n      var onRequestClose = this.props.onRequestClose;\n      return onRequestClose();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props3 = this.props,\n          title = _props3.title,\n          style = _props3.style,\n          children = _props3.children,\n          footer = _props3.footer,\n          isOpen = _props3.isOpen,\n          id = _props3.id;\n\n      if (isOpen) {\n        return (0, _reactDom.createPortal)(_react2.default.createElement('div', {\n          role: 'presentation',\n          id: id,\n          onClick: this.handleClick,\n          className: this.getBackDropClassNames(),\n          onKeyDown: this.handleKeyPressed\n        }, _react2.default.createElement('section', {\n          role: 'dialog',\n          tabIndex: -1,\n          'aria-labelledby': this.modalHeadingId,\n          'aria-modal': true,\n          'aria-hidden': !isOpen,\n          'aria-describedby': this.modalContentId,\n          className: this.getContainerClassNames(),\n          style: style,\n          ref: this.modalRef\n        }, _react2.default.createElement(_ButtonIcon2.default, {\n          className: 'rainbow-modal_close-button',\n          icon: _react2.default.createElement(_closeIcon2.default, null),\n          title: 'Close',\n          onClick: this.closeModal,\n          ref: this.buttonRef\n        }), _react2.default.createElement(_header2.default, {\n          id: this.modalHeadingId,\n          title: title\n        }), _react2.default.createElement('div', {\n          className: 'rainbow-modal_content',\n          id: this.modalContentId\n        }, children), _react2.default.createElement(_RenderIf2.default, {\n          isTrue: !!footer\n        }, _react2.default.createElement('footer', {\n          className: 'rainbow-modal_footer'\n        }, footer)))), document.body);\n      }\n\n      return null;\n    }\n  }]);\n\n  return Modal;\n}(_react.Component);\n\nexports.default = Modal;\nModal.propTypes = {\n  /** The title can include text or another component,\n   * and is displayed in the header of the component. */\n  title: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.node]),\n\n  /** The size of the Modal. Valid values are small, medium, and large.\n   * This value defaults to small. */\n  size: _propTypes2.default.oneOf(['small', 'medium', 'large']),\n\n  /** The footer can include text or another component. */\n  footer: _propTypes2.default.node,\n\n  /** Controls whether the Modal is opened or not. If true, the modal is open. */\n  isOpen: _propTypes2.default.bool,\n\n  /** The action triggered when the close button is clicked. */\n  onRequestClose: _propTypes2.default.func,\n\n  /** A callback triggered when the modal is opened. This is usefull for example to set focus\n   * to an element inside the modal content after it is opened.\n   */\n  onOpened: _propTypes2.default.func,\n\n  /** The id of the outer element. */\n  id: _propTypes2.default.string,\n\n  /** A CSS class for the outer element, in addition to the component's base classes. */\n  className: _propTypes2.default.string,\n\n  /** An object with custom style applied to the outer element. */\n  style: _propTypes2.default.object,\n\n  /**\n   * This prop that should not be visible in the documentation.\n   * @ignore\n   */\n  children: _propTypes2.default.node\n};\nModal.defaultProps = {\n  isOpen: false,\n  title: null,\n  size: 'small',\n  children: null,\n  className: undefined,\n  style: undefined,\n  footer: null,\n  onRequestClose: function onRequestClose() {},\n  onOpened: function onOpened() {},\n  id: undefined\n};","map":{"version":3,"sources":["C:/Users/Marian/Desktop/My work/Licenta/Safe_Office/node_modules/react-rainbow-components/components/Modal/index.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_reactDom","_classnames","_classnames2","_RenderIf","_RenderIf2","_ButtonIcon","_ButtonIcon2","_utils","_constants","_header","_header2","_closeIcon","_closeIcon2","_manageTab","_manageTab2","_scrollController","_counterManager","_counterManager2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","Modal","_Component","_this","getPrototypeOf","buttonRef","createRef","modalRef","modalHeadingId","uniqueId","modalContentId","handleKeyPressed","bind","handleClick","closeModal","componentDidMount","isOpen","increment","disableScroll","modalTriggerElement","document","activeElement","current","focus","componentDidUpdate","prevProps","_props","onOpened","prevIsOpen","decrement","hasModalsOpen","enableScroll","componentWillUnmount","getBackDropClassNames","getContainerClassNames","_props2","className","getSizeClassNames","size","event","stopPropagation","keyCode","ESCAPE_KEY","TAB_KEY","counter","isClickOutsideModal","contains","onRequestClose","render","_props3","title","style","children","footer","id","createPortal","createElement","role","onClick","onKeyDown","tabIndex","ref","icon","isTrue","body","Component","propTypes","oneOfType","string","node","oneOf","bool","func","object","defaultProps","undefined"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _RenderIf = require('./../RenderIf');\n\nvar _RenderIf2 = _interopRequireDefault(_RenderIf);\n\nvar _ButtonIcon = require('./../ButtonIcon');\n\nvar _ButtonIcon2 = _interopRequireDefault(_ButtonIcon);\n\nvar _utils = require('./../../libs/utils');\n\nvar _constants = require('./../../libs/constants');\n\nvar _header = require('./header');\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _closeIcon = require('./closeIcon');\n\nvar _closeIcon2 = _interopRequireDefault(_closeIcon);\n\nvar _manageTab = require('./manageTab');\n\nvar _manageTab2 = _interopRequireDefault(_manageTab);\n\nvar _scrollController = require('./scrollController');\n\nvar _counterManager = require('./counterManager');\n\nvar _counterManager2 = _interopRequireDefault(_counterManager);\n\nrequire('./styles.css');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Modals are used to display content in a layer above the app.\n * This is used in cases such as the creation or editing of a record,\n * as well as various types of messaging.\n * @category Layout\n */\nvar Modal = function (_Component) {\n    _inherits(Modal, _Component);\n\n    function Modal(props) {\n        _classCallCheck(this, Modal);\n\n        var _this = _possibleConstructorReturn(this, (Modal.__proto__ || Object.getPrototypeOf(Modal)).call(this, props));\n\n        _this.buttonRef = _react2.default.createRef();\n        _this.modalRef = _react2.default.createRef();\n        _this.modalHeadingId = (0, _utils.uniqueId)('modal-heading');\n        _this.modalContentId = (0, _utils.uniqueId)('modal-content');\n        _this.handleKeyPressed = _this.handleKeyPressed.bind(_this);\n        _this.handleClick = _this.handleClick.bind(_this);\n        _this.closeModal = _this.closeModal.bind(_this);\n        return _this;\n    }\n\n    _createClass(Modal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var isOpen = this.props.isOpen;\n\n            if (isOpen) {\n                _counterManager2.default.increment();\n                (0, _scrollController.disableScroll)();\n                this.modalTriggerElement = document.activeElement;\n                this.modalRef.current.focus();\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps) {\n            var _props = this.props,\n                isOpen = _props.isOpen,\n                onOpened = _props.onOpened;\n            var prevIsOpen = prevProps.isOpen;\n\n            if (isOpen && !prevIsOpen) {\n                _counterManager2.default.increment();\n                (0, _scrollController.disableScroll)();\n                this.modalTriggerElement = document.activeElement;\n                this.modalRef.current.focus();\n                onOpened();\n            } else if (!isOpen && prevIsOpen) {\n                _counterManager2.default.decrement();\n                if (this.modalTriggerElement) {\n                    this.modalTriggerElement.focus();\n                }\n                if (!_counterManager2.default.hasModalsOpen()) {\n                    (0, _scrollController.enableScroll)();\n                }\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            _counterManager2.default.decrement();\n            if (!_counterManager2.default.hasModalsOpen()) {\n                (0, _scrollController.enableScroll)();\n            }\n        }\n    }, {\n        key: 'getBackDropClassNames',\n        value: function getBackDropClassNames() {\n            var isOpen = this.props.isOpen;\n\n            return (0, _classnames2.default)('rainbow-modal_backdrop', {\n                'rainbow-modal_backdrop--open': isOpen\n            });\n        }\n    }, {\n        key: 'getContainerClassNames',\n        value: function getContainerClassNames() {\n            var _props2 = this.props,\n                className = _props2.className,\n                isOpen = _props2.isOpen;\n\n            return (0, _classnames2.default)('rainbow-modal', {\n                'rainbow-modal--open': isOpen,\n                'rainbow-modal--close': !isOpen\n            }, this.getSizeClassNames(), className);\n        }\n    }, {\n        key: 'getSizeClassNames',\n        value: function getSizeClassNames() {\n            var size = this.props.size;\n\n            if (size === 'small') {\n                return null;\n            }\n            return 'rainbow-modal--' + size;\n        }\n    }, {\n        key: 'handleKeyPressed',\n        value: function handleKeyPressed(event) {\n            event.stopPropagation();\n            var isOpen = this.props.isOpen;\n\n            if (isOpen && event.keyCode === _constants.ESCAPE_KEY) {\n                this.closeModal();\n            }\n            if (event.keyCode === _constants.TAB_KEY) {\n                (0, _manageTab2.default)(this.modalRef.current, event);\n            }\n            return null;\n        }\n    }, {\n        key: 'handleClick',\n        value: function handleClick(event) {\n            if (_counterManager2.default.counter > 1) {\n                event.stopPropagation();\n            }\n            var isOpen = this.props.isOpen;\n\n            if (isOpen) {\n                var isClickOutsideModal = !this.modalRef.current.contains(event.target);\n                if (isClickOutsideModal) {\n                    return this.closeModal();\n                }\n            }\n            return null;\n        }\n    }, {\n        key: 'closeModal',\n        value: function closeModal() {\n            var onRequestClose = this.props.onRequestClose;\n\n            return onRequestClose();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props3 = this.props,\n                title = _props3.title,\n                style = _props3.style,\n                children = _props3.children,\n                footer = _props3.footer,\n                isOpen = _props3.isOpen,\n                id = _props3.id;\n\n\n            if (isOpen) {\n                return (0, _reactDom.createPortal)(_react2.default.createElement(\n                    'div',\n                    {\n                        role: 'presentation',\n                        id: id,\n                        onClick: this.handleClick,\n                        className: this.getBackDropClassNames(),\n                        onKeyDown: this.handleKeyPressed\n                    },\n                    _react2.default.createElement(\n                        'section',\n                        {\n                            role: 'dialog',\n                            tabIndex: -1,\n                            'aria-labelledby': this.modalHeadingId,\n                            'aria-modal': true,\n                            'aria-hidden': !isOpen,\n                            'aria-describedby': this.modalContentId,\n                            className: this.getContainerClassNames(),\n                            style: style,\n                            ref: this.modalRef\n                        },\n                        _react2.default.createElement(_ButtonIcon2.default, {\n                            className: 'rainbow-modal_close-button',\n                            icon: _react2.default.createElement(_closeIcon2.default, null),\n                            title: 'Close',\n                            onClick: this.closeModal,\n                            ref: this.buttonRef\n                        }),\n                        _react2.default.createElement(_header2.default, { id: this.modalHeadingId, title: title }),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'rainbow-modal_content', id: this.modalContentId },\n                            children\n                        ),\n                        _react2.default.createElement(\n                            _RenderIf2.default,\n                            { isTrue: !!footer },\n                            _react2.default.createElement(\n                                'footer',\n                                { className: 'rainbow-modal_footer' },\n                                footer\n                            )\n                        )\n                    )\n                ), document.body);\n            }\n            return null;\n        }\n    }]);\n\n    return Modal;\n}(_react.Component);\n\nexports.default = Modal;\n\n\nModal.propTypes = {\n    /** The title can include text or another component,\n     * and is displayed in the header of the component. */\n    title: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.node]),\n    /** The size of the Modal. Valid values are small, medium, and large.\n     * This value defaults to small. */\n    size: _propTypes2.default.oneOf(['small', 'medium', 'large']),\n    /** The footer can include text or another component. */\n    footer: _propTypes2.default.node,\n    /** Controls whether the Modal is opened or not. If true, the modal is open. */\n    isOpen: _propTypes2.default.bool,\n    /** The action triggered when the close button is clicked. */\n    onRequestClose: _propTypes2.default.func,\n    /** A callback triggered when the modal is opened. This is usefull for example to set focus\n     * to an element inside the modal content after it is opened.\n     */\n    onOpened: _propTypes2.default.func,\n    /** The id of the outer element. */\n    id: _propTypes2.default.string,\n    /** A CSS class for the outer element, in addition to the component's base classes. */\n    className: _propTypes2.default.string,\n    /** An object with custom style applied to the outer element. */\n    style: _propTypes2.default.object,\n    /**\n     * This prop that should not be visible in the documentation.\n     * @ignore\n     */\n    children: _propTypes2.default.node\n};\n\nModal.defaultProps = {\n    isOpen: false,\n    title: null,\n    size: 'small',\n    children: null,\n    className: undefined,\n    style: undefined,\n    footer: null,\n    onRequestClose: function onRequestClose() {},\n    onOpened: function onOpened() {},\n    id: undefined\n};"]},"metadata":{},"sourceType":"script"}